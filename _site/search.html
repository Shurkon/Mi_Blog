---
layout: default
title: search
permalink: /search/
---

<h2>üîç Buscar art√≠culos</h2>
<input type="text" id="search-box" placeholder="Escribe para buscar..." 
  style="width:100%; padding:10px; margin:20px 0; font-size:1rem; background-color:#bcbcbc; border:1px solid #000000; border-radius:15px;" />

<ul id="search-results"></ul>

<script src="https://unpkg.com/lunr/lunr.js"></script>
<script>
  let idx = null;
  let posts = [];

  fetch("/search.json")
    .then(response => {
      if (!response.ok) throw new Error("No se pudo cargar search.json");
      return response.json();
    })
    .then(data => {
      posts = data;
      idx = lunr(function () {
        this.ref("url");
        this.field("title", { boost: 10 });
        this.field("content");
        posts.forEach(doc => this.add(doc));
      });
    })
    .catch(err => console.error("Error al cargar el √≠ndice de b√∫squeda:", err));

  document.addEventListener("DOMContentLoaded", () => {
    const input = document.getElementById("search-box");
    const resultList = document.getElementById("search-results");

    input.addEventListener("input", function () {
      const query = this.value.trim();
      resultList.innerHTML = "";

      if (!idx || query.length < 2) return;

      const results = idx.search(query);
      results.forEach(result => {
        const post = posts.find(p => p.url === result.ref);
        if (post) {
          const li = document.createElement("li");
          li.innerHTML = `<a href="${post.url}">${post.title}</a>`;
          resultList.appendChild(li);
        }
      });
    });
  });
</script>
 
